{{ formErrors | json }}
<div class="alert alert-danger" role="alert" *ngIf="formErrors['']">
  {{ formErrors[''] }}
</div>
<form novalidate [formGroup]="form" (submit)="submit()">
  <div>
    <h2>User information</h2>
    <div class="form-row">
      <div class="form-group col-md-12">
        <label for="email" class="col-form-label">E-mail</label>
        <input [ngClass]="{'is-invalid': formErrors['email'] }" type="text" class="form-control" id="email" placeholder="you@example.com" formControlName="email">
        <div class="invalid-feedback">{{ formErrors['email'] }}</div>
      </div>
    </div>
    <div class="alert alert-info" role="alert">
      Leave both password and confirm password blank if you don't wish to change it
    </div>
    <div class="form-row">
      <div class="form-group col-md-12">
        <label for="password" class="col-form-label">Password</label>
        <input type="text" class="form-control" id="password" placeholder="Password" formControlName="password">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-12">
        <label for="email" class="col-form-label">Confirm password</label>
        <input type="text" class="form-control" id="confirmPassword" placeholder="Confirm password" formControlName="confirmPassword">
      </div>
    </div>
  </div>
  <div class="mb-3" formGroupName="shippingAddress">
    <h2>Shipping address</h2>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="name" class="col-form-label">First name</label>
        <input [ngClass]="{'is-invalid': formErrors.sa['firstName'] }" type="text" class="form-control" placeholder="First name" formControlName="firstName" />
        <div class="invalid-feedback">{{ formErrors.sa['firstName'] }}</div>
      </div>
      <div class="form-group col-md-6">
        <label for="name" class="col-form-label">Last name</label>
        <input [ngClass]="{'is-invalid': formErrors.sa['lastName'] }" type="text" class="form-control" placeholder="Last name" formControlName="lastName" />
        <div class="invalid-feedback">{{ formErrors.sa['lastName'] }}</div>
      </div>
    </div>
    <div class="form-group">
      <label for="inputAddress" class="col-form-label">Address</label>
      <input [ngClass]="{'is-invalid': formErrors.sa['address1'] }" type="text" class="form-control" id="inputAddress" placeholder="1234 Main St" formControlName="address1">
      <div class="invalid-feedback">{{ formErrors.sa['address1'] }}</div>
    </div>
    <div class="form-group">
      <label for="inputAddress2" class="col-form-label">Address 2</label>
      <input [ngClass]="{'is-invalid': formErrors.sa['address2'] }" type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor" formControlName="address2">
      <div class="invalid-feedback">{{ formErrors.sa['address2'] }}</div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="inputCity" class="col-form-label">City</label>
        <input [ngClass]="{'is-invalid': formErrors.sa['city'] }" type="text" class="form-control" id="inputCity" formControlName="city">
        <div class="invalid-feedback">{{ formErrors.sa['city'] }}</div>
      </div>
      <div class="form-group col-md-4">
        <label for="inputState" class="col-form-label">State</label>
        <input [ngClass]="{'is-invalid': formErrors.sa['state'] }" type="text" class="form-control" id="inputState" formControlName="state">
        <div class="invalid-feedback">{{ formErrors.sa['state'] }}</div>
      </div>
      <div class="form-group col-md-2">
        <label for="inputZip" class="col-form-label">Zip</label>
        <input [ngClass]="{'is-invalid': formErrors.sa['zip'] }" type="text" class="form-control" id="inputZip" formControlName="zip">
        <div class="invalid-feedback">{{ formErrors.sa['zip'] }}</div>
      </div>
    </div>
  </div>
  <h2>Billing Address <button type="button" class="btn btn-success ml-5" (click)="copyBillingAddress()">Copy shipping address</button></h2>
  <div formGroupName="billingAddress">
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="name" class="col-form-label">First name</label>
        <input [ngClass]="{'is-invalid': formErrors.ba['firstName'] }" type="text" class="form-control" placeholder="First name" formControlName="firstName" />
        <div class="invalid-feedback">{{ formErrors.ba['firstName'] }}</div>
      </div>
      <div class="form-group col-md-6">
        <label for="name" class="col-form-label">Last name</label>
        <input [ngClass]="{'is-invalid': formErrors.ba['lastName'] }" type="text" class="form-control" placeholder="Last name" formControlName="lastName" />
        <div class="invalid-feedback">{{ formErrors.ba['lastName'] }}</div>
      </div>
    </div>
    <div class="form-group">
      <label for="inputAddress" class="col-form-label">Address</label>
      <input [ngClass]="{'is-invalid': formErrors.ba['address1'] }" type="text" class="form-control" id="inputAddress" placeholder="1234 Main St" formControlName="address1">
      <div class="invalid-feedback">{{ formErrors.ba['address1'] }}</div>
    </div>
    <div class="form-group">
      <label for="inputAddress2" class="col-form-label">Address 2</label>
      <input [ngClass]="{'is-invalid': formErrors.ba['address2'] }" type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor" formControlName="address2">
      <div class="invalid-feedback">{{ formErrors.ba['address2'] }}</div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="inputCity" class="col-form-label">City</label>
        <input [ngClass]="{'is-invalid': formErrors.ba['city'] }" type="text" class="form-control" id="inputCity" formControlName="city">
        <div class="invalid-feedback">{{ formErrors.ba['city'] }}</div>
      </div>
      <div class="form-group col-md-4">
        <label for="inputState" class="col-form-label">State</label>
        <input [ngClass]="{'is-invalid': formErrors.ba['state'] }" type="text" class="form-control" id="inputState" formControlName="state">
        <div class="invalid-feedback">{{ formErrors.ba['state'] }}</div>
      </div>
      <div class="form-group col-md-2">
        <label for="inputZip" class="col-form-label">Zip</label>
        <input [ngClass]="{'is-invalid': formErrors.ba['zip'] }" type="text" class="form-control" id="inputZip" formControlName="zip">
        <div class="invalid-feedback">{{ formErrors.ba['zip'] }}</div>
      </div>
    </div>
  </div>
  <button type="submit" class="btn btn-success" [disabled]="!form.valid || form.disabled">Update</button>
</form>
